\documentclass[notes.tex]{subfiles}
\begin{document}

\chapter{Resultados experimentais}

Foi realizada uma implementação do algoritmo descrito na linguagem python 3.8.
A partir desse, foram executados os tester para avaliar a presença das propriedades desejadas no modelo.
Para os testes iniciais, foram utilizados valores descritos no \autoref{qua:base_params}.

\begin{quadro}[htbp]
    \centering
    \caption{Parâmetros básicos}
    \label{qua:base_params}
    \begin{tblr}{|r|r|r|r|r|r|r|r|} \hline
        \SetCell{c} $N$ & \SetCell{c} $E_\text{wth}^\text{max}$ & \SetCell{c} $E_\text{btw}^\text{max}$ & \SetCell{c} $MTE$ & \SetCell{c} $\A$ & \SetCell{c} $K$ & \SetCell{c} $\theta$ & \SetCell{c} $\text{NbRep}$ \\ \hline
         1000 & 45 & 3 & 30000 & (1, 1) & (6, 2) & $\sfrac{1}{10}$ & 20 \\ \hline
    \end{tblr}
    \fonte{Elaborado pelo autor}
\end{quadro}

\section{Comunidades por definições estruturais}

A presença de comunidades como uma propriedade de redes complexas está tipicamente atrelada a ideia de haverem mais arestas internas a uma comunidade do que arestas que atravessem a fronteira entre duas comunidades.
Esse entendimento é solidificado na função de modularidade $Q$ de \citeonline{girvan2002community}, conforme descrito na equação \ref{eq:mod}.
\citeonline{shen2009detect} descreve uma adaptação, modularidade estendida $EQ$, para a aplicação em coberturas (em oposição a partições), conforme equação \ref{eq:mod_e}.

\begin{table}[htbp]
    \centering
    \caption{Modularidade com os parâmetros básicos}
    \label{tab:mod_base_params}
    \begin{tblr}{l|r|r} \hline
        \SetCell{c} Execução & \SetCell{c} $EQ_1$ & \SetCell{c} $EQ_2$ \\ \hline
        $B_0$ & 0,79495 & 0,60334 \\ \hline
        $B_1$ & 0,79105 & 0,59501 \\ \hline
        $B_2$ & 0,80186 & 0,61164 \\ \hline
        $B_3$ & 0,78451 & 0,58388 \\ \hline
        $B_4$ & 0,80162 & 0,60212 \\ \hline
        $B_5$ & 0,80396 & 0,60521 \\ \hline
        $B_6$ & 0,79186 & 0,59827 \\ \hline
        $B_7$ & 0,80232 & 0,64051 \\ \hline
        $B_8$ & 0,78787 & 0,57823 \\ \hline
        $B_9$ & 0,80018 & 0,64781 \\ \hline
        Média & 0,79602 & 6.06602 \\ \hline
    \end{tblr}
    \fonte{Elaborado pelo autor}
\end{table}

Observa-se na tabela \autoref{tab:mod_base_params} os valores de $EQ$ para 10 execuções do modelo com os parâmetros básicos ($B_0$ a $B_9$).
Para ás comunidades de primeiro nível, isso é, as que são compostas por sub comunidades, a função gera uma média de aproximadamente 0,8 o que indica uma estrutura de comunidade muito expressiva.
No segundo nível, o valor médio foi de aproximadamente 0,6 indicando comunidades menos expressivas mas ainda presentes.

Naturalmente, a escolha de valores distintos par os parâmetros pode ser feita para reforçar as características desejáveis.
Limitando o valor de $MTE$ e considerando uma estrutura de comunidades gerada com  $K = (9, 2, 2, 2)$, obteve-se os dados distritos na \autoref{tab:mod_pro_params}.
Observa-se que a redução do número mínimo foi feita para evitar a descaracterização das comunidades folha, considerando que o valor de $K$ gera 72 dessas.

\begin{table}[htbp]
    \centering
    \caption{Modularidade com os parâmetros $K = (9, 2, 2, 2)$}
    \label{tab:mod_pro_params}
    \begin{tblr}{l|r|r|r|r} \hline
        \SetCell{c} Execução & \SetCell{c} $EQ_1$ & \SetCell{c} $EQ_2$ & \SetCell{c} $EQ_3$ & \SetCell{c} $EQ_4$ \\ \hline
$M_0$ & 0,87848 & 0,92471 & 0,93336 & 0,90927 \\ \hline
$M_1$ & 0,87718 & 0,92260 & 0,93258 & 0,90927 \\ \hline
$M_2$ & 0,87618 & 0,92296 & 0,93272 & 0,90914 \\ \hline
$M_3$ & 0,87599 & 0,92328 & 0,93262 & 0,90920 \\ \hline
$M_4$ & 0,86634 & 0,91004 & 0,91916 & 0,89407 \\ \hline
    \end{tblr}
    \fonte{Elaborado pelo autor}
\end{table}

O incremento nos valores obtidos é atribuível á existência de mais comunidades para as quais distribuir os vértices, não apenas em profanidade mas em diâmetro também.
Descartando-se a possibilidade de ser a alteração do valor de $MTE$ ao realizar testes com este zerado mas mantendo o $K$ padrão.
Outros testes descritos na \autoref{tab:mod_var_params}, onde com $MTE = 0$ realizou-se uma exploração dos valores de $EQ$ para diversos valores em $K$.
Note-se o caso $M_9$ como conta exemplo do impacto de $K$ na modularidade, bem como o exemplo $M_6$, que nas comunidades de primeiro teme $EQ = 0,48$.

\begin{table}[htbp]
    \centering
    \caption{Modularidade com variação de $K$}
    \label{tab:mod_var_params}
    \begin{tblr}{l|r|r} \hline
        \SetCell{c} Execução & $K$ & \SetCell{c} Média de $EQ$ \\ \hline
        % (0.85535 + 0.92134 + 0.79386)/3 = 0.85685
        $M_5$ & $(5, 5, 5)$ & 0,856850 \\ \hline 
        % (0.48498 + 0.83910 + 0.91130)/3 = 0.745127
        $M_6$ & $(2, 4, 8)$ & 0,745127 \\ \hline
        % (0.84992 + 0.90629 + 0.90400)/ 3 = 0.886737
        $M_7$ & $(8, 2, 4)$ & 0,886737 \\ \hline
        $M_8$ & $(100)$ & 0,872190 \\ \hline
        $M_9$ & $(3)$ & 0,294310 \\ \hline
    \end{tblr}
    \fonte{Elaborado pelo autor}
\end{table}

Alternativamente, é possível modificar significativamente os valores obtidos para a modularidade com os parâmetros $E_\text{btw}^\text{max}$ e $E_\text{wth}^\text{max}$.
Na execução $M_{10}$ utilizou-se os demais parâmetros nos valores padrão, mas com $E_\text{btw}^\text{max}=45$, para um $EQ$ de 0,29.

\section{Homofilia e Homogeneidade}

Homogeneidade é a principal propriedade das comunidades definidas por semelhança de vértices, e ela está intimamente ligada á propriedade de homofilia.
Assumindo a distância euclideana como função de semelhança, a forma natural de medir a homogeneidade das comunidades descritas por uma cobertura é a inercia e a razão da inercia entre diferentes níveis de comunidades.

Inertia, definida como a soma dos quadrados das distancias de cada membro de um conjunto com a média do conjunto, sumariza quão semelhantes ou dissemelhantes os membros são.
A razão entre a inercia em diferentes níveis é facilmente extrapolada do conceito de razão de inercia introduzido por \citeonline{largeron2015generating}.
Assumindo que as comunidades de uma rede complexa sejam homogêneas e hierárquicas, é natural que as comunidades mais específicas (sub comunidades), tenham menos diversidade qua as comunidade mais generalistas.
Tendo em vista que a inercia calculada com uma cobertura deve levar em conta que vértices serão contados múltiplas vezes se estiverem presentes em múltiplas comunidades, a inercia para um nível $l$ segue descrita na equação \ref{eq:inertia_l}.
Considerando que $C_l$ é o conjunto de comunidades de nível  $l$.

\begin{equation}
    I_l = \sum_{c \in C_l}\frac{\sum_{v \in c} |v-g_c|^2}{|c|}
\end{equation}

$I_l$ apresenta uma forma de comparação entre diferentes coberturas, de forma a identificar qual seria mais homogênea dado um mesmo conjunto do vértices.
A extensão do conceito de inercia para a razão entre a inercia aplicada a dois níveis distintos se dá para isolar o fator de escala.
Isso é, $\sfrac{I_l}{I_0}$ descreve não apenas quão homogêneo são os agrupamentos estabelecidos, mas o quão mais homogêneos eles são em relação á população em geral.
Note-se que $I_0$ nesse contexto se refere à comunidade $C_n$, isso é, a comunidade que contém todos os vértices.

\begin{table}[htbp]
    \centering
    \caption{Modularidade com os parâmetros básicos}
    \label{tab:mod_base_params}
    \begin{tblr}{l|r|r|r|r|r} \hline
        \SetCell{c} Execução & \SetCell{c} $l_0$ & \SetCell{c} $l_1$ & \SetCell{c} $l_2$
& \SetCell{c} $\sfrac{l_1}{l_0}$ & \SetCell{c} $\sfrac{l_2}{l_0}$
        \\ \hline
        $B_0$ & 2,08113 & 0,82459 & 0,70850 & 0.39622 & 0.34044 \\ \hline
        $B_1$ & 2,08113 & 0,79279 & 0,68140 & 0,38090 & 0,32742 \\ \hline
        $B_2$ & 2,08113 & 0,74972 & 0,60168 & 0,36073 & 0,28911 \\ \hline
        $B_3$ & 2,08113 & 0,83942 & 0,69236 & 0,39902 & 0,30305 \\ \hline
        $B_4$ & 2,08113 & 0,77449 & 0,63069 & 0,37215 & 0,30305 \\ \hline
        $B_5$ & 2,08113 & 0,78058 & 0,64480 & 0,37508 & 0,30983 \\ \hline
        $B_6$ & 2,08113 & 0,78190 & 0,64167 & 0,37571 & 0,30833 \\ \hline
        $B_7$ & 2,08113 & 0,76719 & 0,64844 & 0,36864 & 0,31158 \\ \hline
        $B_8$ & 2,08113 & 0,79498 & 0,65848 & 0,38199 & 0,31640 \\ \hline
        $B_9$ & 2,08113 & 0,77872 & 0,64572 & 0,37418 & 0,21027 \\ \hline
    \end{tblr}
    \fonte{Elaborado pelo autor}
\end{table}

\end{document}
